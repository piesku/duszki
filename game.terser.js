(()=>{function t(t,i){let h=t.i.t();for(let n of i)n(t,h);return h}function i(t,i,h){let n=t.createShader(i);return t.shaderSource(n,h),t.compileShader(n),n}function h(t,i,h,n,e,o,r){return t[0]=i,t[1]=h,t[2]=n,t[3]=e,t[4]=o,t[5]=r,t}function n(t,i){let h=i[0],n=i[1],e=i[2],o=i[3],r=i[4],s=i[5],g=h*o-n*e;return g?(g=1/g,t[0]=o*g,t[1]=-n*g,t[2]=-e*g,t[3]=h*g,t[4]=(e*s-o*r)*g,t[5]=(n*r-h*s)*g,t):null}function e(t,i,h){let n=i[0],e=i[1],o=i[2],r=i[3],s=i[4],g=i[5],l=h[0],u=h[1],c=h[2],d=h[3],a=h[4],f=h[5];return t[0]=n*l+o*u,t[1]=e*l+r*u,t[2]=n*c+o*d,t[3]=e*c+r*d,t[4]=n*a+o*f+s,t[5]=e*a+r*f+g,t}function o(t,i,h,n){let e=Math.sin(h),o=Math.cos(h);return t[0]=o*n[0],t[1]=e*n[0],t[2]=-e*n[1],t[3]=o*n[1],t[4]=i[0],t[5]=i[1],t}function r(t,i){return t[0]=i[4],t[1]=i[5],t}function s(t,i,n){return h(t,i,0,0,n,0,0),t}function g(t,i){r(i.h,t),i.o[0]=i.h[0]-i.g[0]/2,i.o[1]=i.h[1]-i.g[1]/2,i.l[0]=i.h[0]+i.g[0]/2,i.l[1]=i.h[1]+i.g[1]/2}function l(t,i){let h=t.h[0]-i.h[0],n=t.g[0]/2+i.g[0]/2-Math.abs(h),e=t.h[1]-i.h[1],o=t.g[1]/2+i.g[1]/2-Math.abs(e);return n<o?[n*Math.sign(h),0]:[0,o*Math.sign(e)]}function u(t,i,h){for(let o=0;o<h;o++){let h=i[o],r=t.u&h.p,s=h.u&t.p;if((r||s)&&(n=t).o[0]<(e=h).l[0]&&n.l[0]>e.o[0]&&n.o[1]<e.l[1]&&n.l[1]>e.o[1]){let i=l(t,h);r&&t.v.push({m:h.M,_:i}),s&&h.v.push({m:t.M,_:[-i[0],-i[1]]})}}var n,e}function c(){return((dt=16807*dt%2147483647)-1)/2147483646}function d(t=0,i=1){return c()*(i-t)+t}function a(t){return t[function(t=0,i=1){return~~(c()*(i-t+1)+t)}(0,t.length-1)]}function f(t,i){let h=t.i.T[i],n=t.i.S[i];h.k&&(n.k[0]=h.k[0],n.k[1]=h.k[1],t.i.F[i]|=128),h.$&&(n.$=h.$,t.i.F[i]|=128)}function p(t,i){let h=t.i.S[i],n=t.i.A[i];t.C.ArrowLeft&&(h.k[0]-=1,t.i.F[i]|=128),t.C.ArrowRight&&(h.k[0]+=1,t.i.F[i]|=128),t.C.ArrowUp&&n.D&&(n.P[1]=500)}function w(t,i){return t[0]=i[0],t[1]=i[1],t}function y(t,i,h){return t[0]=i[0]+h[0],t[1]=i[1]+h[1],t}function x(t,i,h){return t[0]=i[0]*h,t[1]=i[1]*h,t}function v(t,i){let h=i[0],n=i[1],e=h*h+n*n;return e>0&&(e=1/Math.sqrt(e)),t[0]=i[0]*e,t[1]=i[1]*e,t}function m(t,i,h){let n=i[0],e=i[1];return t[0]=h[0]*n+h[2]*e+h[4],t[1]=h[1]*n+h[3]*e+h[5],t}function M(t){return Math.hypot(t[0],t[1])}function _(t,i){let h=i[0]-t[0],n=i[1]-t[1];return h*h+n*n}function T(t=[0,0],i=0,h=[1,1]){return(n,e)=>{n.i.F[e]|=1152,n.i.R[e]={X:t,$:i,Y:h}}}function b(t,i){return(h,n)=>{let e=h.i.R[n];e.X[0]=t,e.X[1]=i}}function S(t){return(i,h)=>{w(i.i.R[h].X,t)}}function k(t,i,h,n=[1,1]){return(e,o)=>{e.i.F[o]|=4,e.i.V[o]={M:o,W:!0,H:t,p:i,u:h,g:n,o:[0,0],l:[0,0],h:[0,0],v:[]}}}function z(t,i=[1,1,1,1]){return(h,n)=>{let e=n*ut;h.I[e+6]=0,h.I[e+7]=8192,h.I[e+8]=i[0],h.I[e+9]=i[1],h.I[e+10]=i[2],h.I[e+11]=i[3],h.I[e+12]=ft[t].x,h.I[e+13]=ft[t].y,h.I[e+14]=ft[t].width,h.I[e+15]=ft[t].height,h.i.F[n]|=8192,h.i.N[n]={U:h.I.subarray(e+6,e+8),j:h.I.subarray(e+8,e+12),G:h.I.subarray(e+12,e+16)}}}function F(t){return(i,h)=>{i.I[h*ut+6]=Math.max(-1,Math.min(1,t))}}function $(t,i,h){let n=i*ut;t.I[n+12]=ft[h].x,t.I[n+13]=ft[h].y,t.I[n+14]=ft[h].width,t.I[n+15]=ft[h].height}function A(t,i=1,h=.001){return(n,e)=>{n.i.F[e]|=16384,n.i.A[e]={L:t,O:h,q:i,P:[0,0],B:[0,0],K:[0,0],J:0,D:!1}}}function C(t,i){if(64&t.F[i])for(let h of t.Z[i].Z)C(t,h);0===t.F[i]||t.tt(i)}function D(t,i,h){let n=t.i.it[i];n.ht-=h,n.ht<0&&C(t.i,i)}function P(t,i,h){let n=t.i.R[i],e=t.i.S[i];if(e.k[0]||e.k[1]){yt[0]=e.k[0],yt[1]=e.k[1];let o=Math.min(1,M(yt));if(65536&t.i.F[i]){let h=t.i.nt[i];!function(t,i,h){let n=i[0],e=i[1];t[0]=h[0]*n+h[2]*e,t[1]=h[1]*n+h[3]*e}(yt,yt,void 0!==h.et?t.i.nt[h.et].ot:h.i)}else!function(t,i,h){let n=Math.cos(h),e=Math.sin(h);t[0]=n*i[0]-e*i[1],t[1]=e*i[0]+n*i[1]}(yt,yt,n.$);v(yt,yt),x(yt,yt,o*e.rt*h),y(n.X,n.X,yt),e.k[0]=0,e.k[1]=0}e.$&&(n.$+=e.$*e.st*h,e.$=0)}function R(t,i,h){let n=t.i.R[i],e=t.i.A[i];var o;1===e.L&&(e.B[1]+=-9.8*h,x(e.P,e.P,h),y(e.B,e.B,e.P),x(e.B,e.B,1-e.O),x(xt,e.B,h),y(n.X,n.X,xt),n.$+=e.J*h,t.i.F[i]|=128,(o=e.P)[0]=0,o[1]=0)}function X(t,i){let h=t.i.R[i],n=t.i.A[i],e=t.i.V[i];if(1===n.L){n.D=!1;let s=!1;for(let g=0;g<e.v.length;g++){let l=e.v[g];if(16384&t.i.F[l.m]){s=!0,y(h.X,h.X,l._),t.i.F[i]|=128;let e=t.i.A[l.m];switch(e.L){case 0:v(mt,l._),x(mt,mt,-2*((o=n.B)[0]*(r=mt)[0]+o[1]*r[1])),y(n.K,n.B,mt);break;case 1:w(n.K,e.B)}x(n.K,n.K,n.q),l._[1]>0&&n.K[1]<1&&(n.K[1]=0,n.D=!0)}}s||w(n.K,n.B)}var o,r}function Y(t,i){if(64&t.F[i]){let h=t.Z[i];for(let i of h.Z)if(262144&t.F[i])return!0}return!1}function V(t,i){let h=t.gt,n=t.lt;t.ut.useProgram(h.ct),t.ut.uniformMatrix3x2fv(h.ft.dt,!1,i.dt),t.ut.activeTexture(33984),t.ut.bindTexture(et,n.wt),t.ut.uniform1i(h.ft.yt,0),t.ut.uniform2f(h.ft.xt,n.vt,n.Mt),t.ut.bindBuffer(nt,t._t),t.ut.bufferData(nt,t.I,35040),t.ut.drawArraysInstanced(h.Tt,0,4,t.i.F.length)}function W(t,i,h){let n=t.i.bt[i];for(let h in n.St)if(n.kt<n.St[h]){$(t,i,h);break}n.kt+=h,n.kt>=n.zt&&(n.kt-=n.zt)}function H(t,i){let h=t.i.Ft[i];h.$t=t.$t,h.At=t.At;let e=h.Ct,o=t.$t/t.At;if(0===e.Dt[0]&&0===e.Dt[1]){let i=t.At/32/2;s(e.Pt,i*o,i)}else o<e.Dt[0]/e.Dt[1]?s(e.Pt,e.Dt[0],e.Dt[0]/o):s(e.Pt,e.Dt[1]*o,e.Dt[1]);n(e.Ct,e.Pt)}function I(t,i){let h=t.i.Rt[i],n=t.i.R[i];n.X[0]=(Math.random()-.5)*h.Dt*2,n.X[1]=(Math.random()-.5)*h.Dt*2,t.i.F[i]|=128}function N(i,h,n){let e=i.i.Xt[h];e.Yt+=n,e.Yt>e.Vt&&(e.Yt=0,r(Tt,i.i.nt[h].i),i.i.F.length-i.i.Wt.length<i.i.Ht&&t(i,[...e.It(i),S(Tt)]))}function U(t,i,h){let n=t.i.Nt[i];n.Yt+=h,n.Yt>n.Ut&&(n.Yt=0,(t.i.F[i]&n.u)===n.u?t.i.F[i]&=~n.u:t.i.F[i]|=n.u)}function j(t,i){for(let i=0;i<t.i.F.length;i++)1152==(1152&t.i.F[i])&&(65536&t.i.F[i]?G(t,i):E(t,i))}function E(t,i){t.i.F[i]&=-129;let h=t.i.R[i],n=i*ut;t.I[n+0]=h.Y[0],t.I[n+1]=h.Y[1],t.I[n+2]=h.$*kt,t.I[n+4]=h.X[0],t.I[n+5]=h.X[1]}function G(t,i,h){t.i.F[i]&=-129;let s=t.i.R[i],g=t.i.nt[i];if(o(g.i,s.X,s.$*kt,s.Y),void 0!==h&&(g.et=h),void 0!==g.et&&(e(g.i,t.i.nt[g.et].i,g.i),g.jt&&(r(zt,g.i),o(g.i,zt,s.$*kt,s.Y))),n(g.ot,g.i),64&t.i.F[i]){let h=t.i.Z[i];for(let n=0;n<h.Z.length;n++){let e=h.Z[n];66560==(66560&t.i.F[e])&&G(t,e,i)}}}function L(t,i){let h=t.i.V[i];for(let t of h.v);}function O(t,...i){return t.reduce(((t,h)=>t+function(t){let i=t.shift();return"boolean"==typeof i||null==i?"":Array.isArray(i)?i.join(""):i}(i)+h))}function q(t,i){let h=O` <div style="margin: 10px;">Duszki</div> `;h!==ht&&(t.Et.innerHTML=ht=h)}function B(t,i){let h=0;for(let n=0;n<t.length;n++)i[t[n]]+St<i[t[h]]&&(h=n);return h}function*K(t,i){for(;void 0!==i;)yield i,i=t[i]}function J(t,i){let h=t.i.Gt,n=t.i.Lt[i];if(null!==n.Ot){let t=function(t,i,h){let n=[],e=[];e[i]=0;let o=[];o[i]=0;let r=[];r[i]=0;let s=[i];for(;s.length>0;){let i=B(s,r),g=s.splice(i,1)[0];if(g===h)return[...K(n,h)];for(let i=0;i<t.qt[g].length;i++){let l=t.qt[g][i][0],u=e[g]+t.qt[g][i][1];void 0===e[l]?(o[l]=_(t.Bt[l],t.Bt[h]),e[l]=u,r[l]=u+o[l],n[l]=g,s.push(l)):u+St<e[l]&&(e[l]=u,r[l]=u+o[l],n[l]=g)}}return!1}(h,n.Ot,n.Kt);t&&(n.Jt=t.slice(1)),n.Ot=null}if(n.Jt.length>0){let s=n.Jt[0],g=[0,0];if((e=g)[0]=(o=h.Bt[s])[0]-(r=t.i.R[i].X)[0],e[1]=o[1]-r[1],M(g)<.1)n.Jt.shift(),0==n.Jt.length&&(n.Kt=s,n.Ot=null);else{let h=t.i.S[i];v(g,g),y(h.k,h.k,g),t.i.F[i]|=128}}var e,o,r}function Q(i,h,n){for(let e=0;e<h.data.length;e++){let o=h.data[e],r=268435455&o;if(0==r)continue;let s,g=e%h.width,l=h.height-Math.floor(e/h.width)-1;s=1610612736==(1610612736&o)?T([g,l],90):-1610612736==(-1610612736&o)?T([g,l],-90):-1073741824==(-1073741824&o)?T([g,l],180):-2147483648&o?T([g,l],0,[-1,1]):1073741824&o?T([g,l],0,[1,-1]):T([g,l]),t(i,[s,z((r-1+".png").padStart(7,"0")),F(n)])}}function Z(t=!1){return(i,h)=>{i.i.F[h]|=65664,i.i.nt[h]={i:i.I.subarray(h*ut,h*ut+6),ot:[1,0,0,1,0,0],jt:t}}}function tt(t){return[Z(),T(),(i=[t.i.vt/2+1,t.i.Mt/2+1],(t,h)=>{t.i.F[h]|=2,t.i.Ft[h]={Ct:{Dt:i,Ct:[1/i[0],0,0,1/i[1],0,0],Pt:[i[0],0,0,i[1],0,0]},dt:[1,0,0,1,0,0],i:[1,0,0,1,0,0],$t:0,At:0}})];var i}function it(t,i){return[T(),S(t.i.Gt.Bt[i]),z("121.png"),F(.5),(t,i)=>{t.i.F[i]|=8,t.i.Qt[i]={}},(n=i,(t,i)=>{t.i.F[i]|=2097152,t.i.Lt[i]={Kt:n,Ot:null,Jt:[]}}),(h=d(2,4),(t,i)=>{t.i.F[i]|=2048,t.i.S[i]={rt:h,st:0,k:[0,0],$:0}})];var h,n}var ht,nt=34962,et=3553,ot=5126,rt=document.getElementById("update"),st=document.getElementById("delta"),gt=document.getElementById("fps"),lt=1/60,ut=16,ct=class extends class{constructor(t=1e4){this.F=[],this.Wt=[],this.Ht=t}t(){return this.Wt.length>0?this.Wt.pop():this.F.push(0)-1}tt(t){this.F[t]=0,this.Wt.push(t)}}{constructor(){super(...arguments),this.vt=32,this.Mt=20,this.Gt={qt:[],Bt:[]},this.bt=[],this.Ft=[],this.V=[],this.Qt=[],this.T=[],this.Zt=[],this.Z=[],this.ti=[],this.it=[],this.R=[],this.S=[],this.ii=[],this.N=[],this.A=[],this.Rt=[],this.nt=[],this.Xt=[],this.hi=[],this.Nt=[],this.ni=[],this.Lt=[]}},dt=1,at=2097160,ft={"000.png":{x:0,y:0,width:16,height:16},"001.png":{x:17,y:0,width:16,height:16},"002.png":{x:0,y:17,width:16,height:16},"003.png":{x:17,y:17,width:16,height:16},"004.png":{x:34,y:0,width:16,height:16},"005.png":{x:34,y:17,width:16,height:16},"006.png":{x:0,y:34,width:16,height:16},"007.png":{x:17,y:34,width:16,height:16},"008.png":{x:34,y:34,width:16,height:16},"009.png":{x:51,y:0,width:16,height:16},"010.png":{x:51,y:17,width:16,height:16},"011.png":{x:51,y:34,width:16,height:16},"012.png":{x:0,y:51,width:16,height:16},"013.png":{x:17,y:51,width:16,height:16},"014.png":{x:34,y:51,width:16,height:16},"015.png":{x:51,y:51,width:16,height:16},"016.png":{x:68,y:0,width:16,height:16},"017.png":{x:68,y:17,width:16,height:16},"018.png":{x:68,y:34,width:16,height:16},"019.png":{x:68,y:51,width:16,height:16},"020.png":{x:0,y:68,width:16,height:16},"021.png":{x:17,y:68,width:16,height:16},"022.png":{x:34,y:68,width:16,height:16},"023.png":{x:51,y:68,width:16,height:16},"024.png":{x:68,y:68,width:16,height:16},"025.png":{x:85,y:0,width:16,height:16},"026.png":{x:85,y:17,width:16,height:16},"027.png":{x:85,y:34,width:16,height:16},"028.png":{x:85,y:51,width:16,height:16},"029.png":{x:85,y:68,width:16,height:16},"030.png":{x:0,y:85,width:16,height:16},"031.png":{x:17,y:85,width:16,height:16},"032.png":{x:34,y:85,width:16,height:16},"033.png":{x:51,y:85,width:16,height:16},"034.png":{x:68,y:85,width:16,height:16},"035.png":{x:85,y:85,width:16,height:16},"036.png":{x:102,y:0,width:16,height:16},"037.png":{x:102,y:17,width:16,height:16},"038.png":{x:102,y:34,width:16,height:16},"039.png":{x:102,y:51,width:16,height:16},"040.png":{x:102,y:68,width:16,height:16},"041.png":{x:102,y:85,width:16,height:16},"042.png":{x:0,y:102,width:16,height:16},"043.png":{x:17,y:102,width:16,height:16},"044.png":{x:34,y:102,width:16,height:16},"045.png":{x:51,y:102,width:16,height:16},"046.png":{x:68,y:102,width:16,height:16},"047.png":{x:85,y:102,width:16,height:16},"048.png":{x:102,y:102,width:16,height:16},"049.png":{x:119,y:0,width:16,height:16},"050.png":{x:119,y:17,width:16,height:16},"051.png":{x:119,y:34,width:16,height:16},"052.png":{x:119,y:51,width:16,height:16},"053.png":{x:119,y:68,width:16,height:16},"054.png":{x:119,y:85,width:16,height:16},"055.png":{x:119,y:102,width:16,height:16},"056.png":{x:0,y:119,width:16,height:16},"057.png":{x:17,y:119,width:16,height:16},"058.png":{x:34,y:119,width:16,height:16},"059.png":{x:51,y:119,width:16,height:16},"060.png":{x:68,y:119,width:16,height:16},"061.png":{x:85,y:119,width:16,height:16},"062.png":{x:102,y:119,width:16,height:16},"063.png":{x:119,y:119,width:16,height:16},"064.png":{x:136,y:0,width:16,height:16},"065.png":{x:136,y:17,width:16,height:16},"066.png":{x:136,y:34,width:16,height:16},"067.png":{x:136,y:51,width:16,height:16},"068.png":{x:136,y:68,width:16,height:16},"069.png":{x:136,y:85,width:16,height:16},"070.png":{x:136,y:102,width:16,height:16},"071.png":{x:136,y:119,width:16,height:16},"072.png":{x:0,y:136,width:16,height:16},"073.png":{x:17,y:136,width:16,height:16},"074.png":{x:34,y:136,width:16,height:16},"075.png":{x:51,y:136,width:16,height:16},"076.png":{x:68,y:136,width:16,height:16},"077.png":{x:85,y:136,width:16,height:16},"078.png":{x:102,y:136,width:16,height:16},"079.png":{x:119,y:136,width:16,height:16},"080.png":{x:136,y:136,width:16,height:16},"081.png":{x:153,y:0,width:16,height:16},"082.png":{x:153,y:17,width:16,height:16},"083.png":{x:153,y:34,width:16,height:16},"084.png":{x:153,y:51,width:16,height:16},"085.png":{x:153,y:68,width:16,height:16},"086.png":{x:153,y:85,width:16,height:16},"087.png":{x:153,y:102,width:16,height:16},"088.png":{x:153,y:119,width:16,height:16},"089.png":{x:153,y:136,width:16,height:16},"090.png":{x:0,y:153,width:16,height:16},"091.png":{x:17,y:153,width:16,height:16},"092.png":{x:34,y:153,width:16,height:16},"093.png":{x:51,y:153,width:16,height:16},"094.png":{x:68,y:153,width:16,height:16},"095.png":{x:85,y:153,width:16,height:16},"096.png":{x:102,y:153,width:16,height:16},"097.png":{x:119,y:153,width:16,height:16},"098.png":{x:136,y:153,width:16,height:16},"099.png":{x:153,y:153,width:16,height:16},"100.png":{x:170,y:0,width:16,height:16},"101.png":{x:170,y:17,width:16,height:16},"102.png":{x:170,y:34,width:16,height:16},"103.png":{x:170,y:51,width:16,height:16},"104.png":{x:170,y:68,width:16,height:16},"105.png":{x:170,y:85,width:16,height:16},"106.png":{x:170,y:102,width:16,height:16},"107.png":{x:170,y:119,width:16,height:16},"108.png":{x:170,y:136,width:16,height:16},"109.png":{x:170,y:153,width:16,height:16},"110.png":{x:0,y:170,width:16,height:16},"111.png":{x:17,y:170,width:16,height:16},"112.png":{x:34,y:170,width:16,height:16},"113.png":{x:51,y:170,width:16,height:16},"114.png":{x:68,y:170,width:16,height:16},"115.png":{x:85,y:170,width:16,height:16},"116.png":{x:102,y:170,width:16,height:16},"117.png":{x:119,y:170,width:16,height:16},"118.png":{x:136,y:170,width:16,height:16},"119.png":{x:153,y:170,width:16,height:16},"120.png":{x:170,y:170,width:16,height:16},"121.png":{x:187,y:0,width:16,height:16},"122.png":{x:187,y:17,width:16,height:16},"123.png":{x:187,y:34,width:16,height:16},"124.png":{x:187,y:51,width:16,height:16},"125.png":{x:187,y:68,width:16,height:16},"126.png":{x:187,y:85,width:16,height:16},"127.png":{x:187,y:102,width:16,height:16},"128.png":{x:187,y:119,width:16,height:16},"129.png":{x:187,y:136,width:16,height:16},"130.png":{x:187,y:153,width:16,height:16},"131.png":{x:187,y:170,width:16,height:16}},pt=[0,0],wt=0,yt=[0,0],xt=[0,0],vt=17412,mt=[0,0],Mt=262144,_t=196608,Tt=[0,0],bt=524288,St=1e-6,kt=Math.PI/180,zt=[0,0],Ft=1048580,$t=2100224,At=[{data:[14,1610612787,16,1,1,3221225485,1,1,1,2,3,3,3,3,3,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,14,1610612787,17,3,3,4,1,1,1,14,41,41,41,41,41,16,1,1,1,1,1,25,1,1,1,1,1,1,1,1,1073741837,1,14,1610612787,58,41,41,16,25,1,1,14,1610612789,51,51,52,51,16,2,3,4,1,1,1,1,2,3,7,3,3,3,7,3,4,14,1610612787,51,52,51,16,1,1,1,14,1610612787,49,3221225522,49,49,16,14,41,16,1,1,536870925,1,14,41,19,41,30,41,19,41,16,14,1610612787,5,27,27,28,1,1073741837,1,14,1610612787,49,49,49,49,16,14,1610612789,16,1,1,1,1073741837,14,1610612789,31,51,51,52,31,51,16,14,1610612787,16,2,3,3,3,3,4,26,27,27,27,27,27,28,14,1610612787,17,7,3,3,4,14,1610612787,49,49,49,49,49,49,16,14,1610612787,16,14,41,41,41,41,17,3,3,3,3,4,1,1,14,1610612787,58,19,41,41,16,14,1610612787,49,49,49,49,49,49,16,18,1610612787,17,18,1610612789,51,52,51,58,41,41,22,41,16,2684354573,1,14,1610612787,51,31,51,51,16,14,1610612787,49,49,49,49,49,49,16,60,1610612787,58,60,1610612787,49,49,49,51,51,51,51,51,17,3,3,18,1610612787,49,43,49,3221225522,17,18,1610612787,49,49,49,49,49,2684354610,17,51,54,51,51,54,43,49,50,49,49,49,49,49,58,41,41,60,1610612787,49,49,43,49,58,60,37,38,38,38,38,38,39,58,49,43,49,49,49,49,49,49,49,49,49,49,49,51,52,51,51,54,49,49,49,49,51,52,54,49,49,49,49,49,49,51,49,49,49,5,27,6,1610612790,49,49,2147483698,49,49,49,49,49,49,49,49,49,49,49,49,49,5,27,27,27,27,27,27,27,27,49,49,49,16,1,14,1610612787,49,49,49,49,49,49,5,27,27,27,27,27,27,6,1610612790,49,16,1,1,1,1,1,1,1,1,27,27,27,28,3221225485,14,1610612787,68,49,5,27,27,27,28,2,3,3,3,3,3,18,1610612787,49,16,1,1,1,2,3,3,3,3,1,1,1,1,2,18,1610612787,84,49,17,3,4,1,1,14,41,20,41,41,21,60,1610612787,49,16,1,1,1073741837,14,41,11,12,41,1,2,3,3,18,60,1610612787,84,49,58,41,17,3,3,18,1610612789,32,51,51,33,51,54,2147483698,16,1,1,1,14,1610612789,51,51,51,1,14,41,41,60,1610612789,54,84,49,51,51,58,41,41,60,1610612787,49,43,49,49,49,49,49,17,3,3,3,18,1610612787,49,49,49,1,14,1610612789,52,51,54,49,84,2147483698,42,49,51,51,51,51,54,43,49,49,49,49,49,49,58,41,41,41,60,1610612787,49,49,49,1,14,1610612787,3758096434,49,49,49,94,71,71,71,71,71,72,49,49,49,49,49,49,49,43,49,51,51,51,51,51,54,49,49,49,1,14,1610612787,49,49,49,49,49,49,49,49,49,49,84,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,3758096434,49],height:20,id:1,name:"Dungeon",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,107,76,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,87,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,75,0,0,0,0,1073741932,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,0,0,0,0,0,0,0,0,0,0,0,0,0,66,0,65,0,65,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,67,0,67,0,67,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,121,0,0,109,0,0,0,0,0,0,0,0,112,0,0,0,0,0,0,0,0,0,0,0,0,74,0,73,0,0,0,0,0,121,0,0,0,0,0,0,0,0,0,0,0,0,0,0,88,0,119,0,0,0,0,0,0,0,0,0,74,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,98,0,0,0,0,0,0,85,0,0,0,2147483758,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,99,0,0,0,0,0,0,0,0,0,0,123,0,0,0,0,0,0,0,0,0,0,0,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,1,1,1,2,3,3,3,0,0,0,0,0,0,0,0,82,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,0,0,0,0,0,0,0,0,0,0,0,0,0,124,0,0,0,0,0,0,0,0,0,83,0,0,0,0,0,0,0,82,0,0,0,0,0,0,0,0,0,0,0,124,0,0,0,0,0,0,0,0,0,90,0,0,0,0,0,0,0,0,0,82,0,0,0,0,0,0,0,0,0,0,0,0,0,2147483773,0,0,0,0,0,0,0,0,2147483749,0,0,0,0,0,0,0,0,94,71,71,71,71,71,72,0,0,0,64,0,0,0,0,0,0,0,0,83,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,82,0,0,0,76,64,0,0,0,0,0,0,0,0,0,0,0,0,0],height:20,id:4,name:"Objects",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,55,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:20,id:5,name:"Carts",opacity:1,type:"tilelayer",visible:!1,width:32,x:0,y:0},{data:[0,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,49,0,0,0,0,0,0,0,0,49,49,49,0,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,49,49,49,49,0,0,0,0,0,49,49,49,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,49,0,0,0,0,0,0,0,0,49,49,0,49,49,0,0,49,0,0,0,0,0,0,49,49,49,49,49,49,49,0,0,49,0,0,0,0,0,0,0,0,0,49,0,0,0,0,0,49,0,0,0,0,0,0,49,0,49,0,49,0,49,0,0,49,0,0,0,0,0,0,0,0,0,49,0,0,0,0,0,49,0,0,0,0,0,0,49,49,49,49,49,49,49,0,0,49,0,0,49,49,49,49,0,0,0,49,0,0,0,0,0,49,49,49,49,49,0,0,49,49,49,49,49,49,49,0,0,49,0,0,49,49,49,49,49,49,49,49,49,0,0,0,0,49,49,49,0,49,0,0,49,49,49,49,49,49,49,0,49,49,49,49,49,49,49,49,49,49,49,49,49,0,0,0,0,49,49,49,49,49,0,0,49,49,49,49,49,49,49,0,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,0,0,0,0,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,0,0,0,0,0,0,0,0,0,49,0,0,0,0,0,49,49,49,49,49,49,49,0,0,0,0,0,0,0,0,49,49,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,49,49,49,0,0,0,0,0,0,0,0,0,0,0,0,49,49,49,49,49,49,49,49,49,49,0,0,0,0,0,0,0,49,49,49,0,0,0,0,0,0,0,0,0,0,0,0,49,49,0,0,0,0,0,0,49,49,0,0,0,0,0,0,0,49,49,49,0,0,0,0,0,0,49,0,49,49,0,49,49,49,0,0,0,0,0,49,49,49,0,0,0,0,0,0,49,49,0,49,49,49,0,0,0,0,49,49,49,49,49,49,49,49,0,0,0,0,0,49,49,49,49,0,0,49,49,49,49,49,49,49,0,49,49,49,49,49,49,49,49,49,49,49,49,49,0,0,0,0,0,49,49,49,49,0,0,49,49,49,49,49,49,49,49,0,0,49,49,49,49,49,49,49,49,49,49,49,49,49,49,0,49,49,49,49,49,0,0,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,0,0,49,49,49,49,49,49,49,49,49,49,49,49,49],height:20,id:7,name:"Navigation",opacity:.25,tintcolor:"#00ff00",type:"tilelayer",visible:!0,width:32,x:0,y:0}],Ct=new class extends class extends class{constructor(){this.ei=0,this.oi=0,this.$t=window.innerWidth,this.At=window.innerHeight,this.ri=!0,this.C={MouseX:0,MouseY:0},this.si={MouseX:0,MouseY:0},this.gi={Mouse:0,Mouse0:0,Mouse1:0,Mouse2:0,Touch0:0,Touch1:0},this.li={},this.Et=document.querySelector("main"),document.addEventListener("visibilitychange",(()=>document.hidden?this.ui():this.ci())),this.Et.addEventListener("contextmenu",(t=>t.preventDefault())),this.Et.addEventListener("mousedown",(t=>{this.C["Mouse"+t.button]=1,this.si["Mouse"+t.button]=1})),this.Et.addEventListener("mouseup",(t=>{this.C["Mouse"+t.button]=0,this.si["Mouse"+t.button]=-1})),this.Et.addEventListener("mousemove",(t=>{this.C.MouseX=t.clientX,this.C.MouseY=t.clientY,this.si.MouseX=t.movementX,this.si.MouseY=t.movementY})),this.Et.addEventListener("wheel",(t=>{t.preventDefault(),this.si.WheelY=t.deltaY})),this.Et.addEventListener("touchstart",(t=>{t.target===this.Et&&t.preventDefault(),1===t.touches.length&&(this.li={});for(let i=0;i<t.touches.length;i++)this.li[t.touches[i].identifier]=i;for(let i=0;i<t.changedTouches.length;i++){let h=t.changedTouches[i],n=this.li[h.identifier];this.C["Touch"+n]=1,this.C[`Touch${n}X`]=h.clientX,this.C[`Touch${n}Y`]=h.clientY,this.si["Touch"+n]=1,this.si[`Touch${n}X`]=0,this.si[`Touch${n}Y`]=0}})),this.Et.addEventListener("touchmove",(t=>{t.target===this.Et&&t.preventDefault();for(let i=0;i<t.changedTouches.length;i++){let h=t.changedTouches[i],n=this.li[h.identifier];this.si[`Touch${n}X`]=h.clientX-this.C[`Touch${n}X`],this.si[`Touch${n}Y`]=h.clientY-this.C[`Touch${n}Y`],this.C[`Touch${n}X`]=h.clientX,this.C[`Touch${n}Y`]=h.clientY}})),this.Et.addEventListener("touchend",(t=>{t.target===this.Et&&t.preventDefault();for(let i=0;i<t.changedTouches.length;i++){let h=this.li[t.changedTouches[i].identifier];this.C["Touch"+h]=0,this.si["Touch"+h]=-1}})),this.Et.addEventListener("touchcancel",(t=>{for(let i=0;i<t.changedTouches.length;i++){let h=this.li[t.changedTouches[i].identifier];this.C["Touch"+h]=0,this.si["Touch"+h]=-1}})),window.addEventListener("keydown",(t=>{t.repeat||(this.C[t.code]=1,this.si[t.code]=1)})),window.addEventListener("keyup",(t=>{this.C[t.code]=0,this.si[t.code]=-1}))}ci(){let t=0,i=performance.now(),h=n=>{let e=(n-i)/1e3;for(i=n,this.ei=requestAnimationFrame(h),this.di(e),t+=e;t>=lt;)t-=lt,this.ai(lt);this.fi(e),this.pi(e)};this.ui(),h(i)}ui(){cancelAnimationFrame(this.ei),this.ei=0}di(t){this.oi=performance.now();let i=Math.abs(this.si.MouseX)+Math.abs(this.si.MouseY);this.gi.Mouse+=i,1===this.C.Mouse0&&(this.gi.Mouse0+=i),1===this.C.Mouse1&&(this.gi.Mouse1+=i),1===this.C.Mouse2&&(this.gi.Mouse2+=i),1===this.C.Touch0&&(this.gi.Touch0+=Math.abs(this.si.Touch0X)+Math.abs(this.si.Touch0Y)),1===this.C.Touch1&&(this.gi.Touch1+=Math.abs(this.si.Touch1X)+Math.abs(this.si.Touch1Y))}ai(t){}fi(t){}pi(t){this.ri=!1,-1===this.si.Mouse0&&(this.gi.Mouse0=0),-1===this.si.Mouse1&&(this.gi.Mouse1=0),-1===this.si.Mouse2&&(this.gi.Mouse2=0),-1===this.si.Touch0&&(this.gi.Touch0=0),-1===this.si.Touch1&&(this.gi.Touch1=0);for(let t in this.si)this.si[t]=0;let i=performance.now()-this.oi;rt&&(rt.textContent=i.toFixed(1)),st&&(st.textContent=(1e3*t).toFixed(1)),gt&&(gt.textContent=(1/t).toFixed())}}{constructor(){super(...arguments),this.wi=document.querySelector("#background"),this.yi=this.wi.getContext("2d"),this.xi=document.querySelector("#foreground"),this.vi=this.xi.getContext("2d"),this.mi=document.querySelector("#scene"),this.ut=this.mi.getContext("webgl2"),this.Audio=new AudioContext,this.Mi=[],this._i={}}}{constructor(){super(),this.i=new ct(65536),this.gt=function(t,h,n){let e=function(t,h,n){let e=t.createProgram();return t.attachShader(e,i(t,35633,h)),t.attachShader(e,i(t,35632,"#version 300 es\n\nprecision mediump float;\n\nuniform sampler2D sheet_texture;\n\nin vec2 vert_texcoord;\nin vec4 vert_color;\n\nout vec4 frag_color;\n\nvoid main() {\nfrag_color = vert_color * texture(sheet_texture, vert_texcoord);\nif (frag_color.a == 0.0) {\ndiscard;\n}\n}\n")),t.linkProgram(e),e}(t,"#version 300 es\n\nuniform mat3x2 pv;\nuniform vec2 sheet_size;\n\n\nlayout(location=0) in vec2 attr_position;\nlayout(location=1) in vec2 attr_texcoord;\n\n\nlayout(location=2) in vec4 attr_rotation; \nlayout(location=3) in vec4 attr_translation; \nlayout(location=4) in vec4 attr_color;\nlayout(location=5) in vec4 attr_sprite;\n\nout vec2 vert_texcoord;\nout vec4 vert_color;\nout vec4 vert_sprite;\n\nvoid main() {\nint signature = int(attr_translation.w);\nif ((signature & 8192) == 8192) {\nmat3x2 world;\nif ((signature & 65536) == 65536) {\nworld = mat3x2(\nattr_rotation.xy,\nattr_rotation.zw,\nattr_translation.xy\n);\n} else {\nvec2 scale = attr_rotation.xy;\nfloat rotation = attr_rotation.z;\nworld = mat3x2(\ncos(rotation) * scale.x, sin(rotation) * scale.x,\n-sin(rotation) * scale.y, cos(rotation) * scale.y,\nattr_translation.xy\n);\n}\n\nvec3 world_position = mat3(world) * vec3(attr_position, 1);\nvec3 clip_position = mat3(pv) * world_position;\ngl_Position = vec4(clip_position.xy, -attr_translation.z, 1);\n\n\nvert_texcoord = (attr_sprite.xy + attr_sprite.zw * attr_texcoord) / sheet_size;\nvert_color = attr_color;\n} else {\n\ngl_Position.z = 2.0;\n}\n}");return{Tt:5,ct:e,ft:{dt:t.getUniformLocation(e,"pv"),i:t.getUniformLocation(e,"world"),yt:t.getUniformLocation(e,"sheet_texture"),xt:t.getUniformLocation(e,"sheet_size")}}}(this.ut),this.lt=function(t,i){let h=t.createTexture();return t.bindTexture(et,h),t.texImage2D(et,0,6408,6408,5121,i),t.texParameteri(et,10241,9728),t.texParameteri(et,10240,9728),t.texParameteri(et,10242,10497),t.texParameteri(et,10243,10497),{wt:h,vt:i.width,Mt:i.height}}(this.ut,document.querySelector("img")),this.I=new Float32Array(this.i.Ht*ut),this._t=this.ut.createBuffer(),this.Ti="#763b36",this.ut.clearColor(0,0,0,0),this.ut.enable(2929),this.ut.enable(3042),this.ut.blendFunc(770,771),function(t,i){let h=Float32Array.from([-.51,-.51,0,1,.51,-.51,1,1,-.51,.51,0,0,.51,.51,1,0]);t.bindBuffer(nt,t.createBuffer()),t.bufferData(nt,h,35044),t.enableVertexAttribArray(0),t.vertexAttribPointer(0,2,ot,!1,16,0),t.enableVertexAttribArray(1),t.vertexAttribPointer(1,2,ot,!1,16,8),t.bindBuffer(nt,i),t.enableVertexAttribArray(2),t.vertexAttribDivisor(2,1),t.vertexAttribPointer(2,4,ot,!1,64,0),t.enableVertexAttribArray(3),t.vertexAttribDivisor(3,1),t.vertexAttribPointer(3,4,ot,!1,64,16),t.enableVertexAttribArray(4),t.vertexAttribDivisor(4,1),t.vertexAttribPointer(4,4,ot,!1,64,32),t.enableVertexAttribArray(5),t.vertexAttribDivisor(5,1),t.vertexAttribPointer(5,4,ot,!1,64,48)}(this.ut,this._t)}ai(t){!function(t,i){for(let h=0;h<t.i.F.length;h++)17408==(17408&t.i.F[h])&&R(t,h,i)}(this,t),j(this),function(t,i){let h=[],n=[];for(let i=0;i<t.i.F.length;i++)if(65540==(65540&t.i.F[i])){let e=t.i.nt[i],o=t.i.V[i];o.v=[],o.W?(o.W=!1,g(e.i,o)):o.H?(g(e.i,o),n.push(o)):h.push(o)}for(let t=0;t<n.length;t++)u(n[t],h,h.length),u(n[t],n,t)}(this),function(t,i){for(let i=0;i<t.i.F.length;i++)(t.i.F[i]&vt)===vt&&X(t,i);for(let i=0;i<t.i.F.length;i++)if((t.i.F[i]&vt)===vt){let h=t.i.A[i];1===h.L&&w(h.B,h.K)}}(this),function(t,i){for(let i=0;i<t.i.F.length;i++)(t.i.F[i]&Ft)===Ft&&L(t,i)}(this)}fi(i){!function(t,i){let h=[];for(let n=0;n<t.i.F.length;n++)if((t.i.F[n]&Mt)===Mt){if(Y(t.i,n))continue;let e=t.i.hi[n];switch(e.L){case 0:e.bi(n)&&h.push(n);break;case 1:e.ht-=i,e.ht<0&&h.push(n);break;case 2:h.push(n)}}for(let i of h){let h=t.i.hi[i];switch(h.L){case 2:h.Si(i);case 0:case 1:t.i.tt(i)}delete t.i.hi[i]}}(this,i),function(t,i){if(t.$t==window.innerWidth&&t.At==window.innerHeight||(t.ri=!0),t.ri){t.$t=t.wi.width=t.mi.width=t.xi.width=window.innerWidth,t.At=t.wi.height=t.mi.height=t.xi.height=window.innerHeight;for(let i=0;i<t.i.F.length;i++)2==(2&t.i.F[i])&&H(t,i)}}(this),function(t,i){t.Mi=[];for(let i=0;i<t.i.F.length;i++)if(65538==(65538&t.i.F[i])){let o=t.i.Ft[i],r=t.i.nt[i];e(o.dt,o.Ct.Ct,r.ot),h(o.i,(n=r.i)[0],n[1],n[2],n[3],n[4],n[5]),t.Mi.push(i)}var n}(this),function(t,i){for(let i=0;i<t.i.F.length;i++)18464==(18464&t.i.F[i])&&p(t,i)}(this),function(i,h){if(wt+=h,!function(t,i){return 1===t.C.Touch0||-1===t.si.Touch0?(i[0]=t.C.Touch0X,i[1]=t.C.Touch0Y,!0):t.gi.Mouse>0&&(i[0]=t.C.MouseX,i[1]=t.C.MouseY,!0)}(i,pt))return;let n=i.Mi[0];if(void 0!==n){(e=pt)[0]=(r=pt)[0]/(o=i.i.Ft[n]).$t*2-1,e[1]=-r[1]/o.At*2+1,m(e,e,o.Ct.Pt),m(e,e,o.i);for(let t=0;t<i.i.F.length;t++)if(1056==(1056&i.i.F[t])){let h=i.i.R[t];h.X[0]=Math.round(pt[0]),h.X[1]=Math.round(pt[1]),i.i.F[t]|=128}wt>.1&&function(t,i,h=i){return t.C["Mouse"+i]>0||t.C["Touch"+h]>0}(i,0)&&(t(i,[T(),k(!0,2,3),A(1,.3),z("121.png"),F(.9),(t,i)=>{t.i.F[i]|=512,t.i.it[i]={ht:10,ki:void 0}},S(pt)]),wt=0)}var e,o,r}(this,i),function(t,i){let h=t.i.Gt.qt.map(((t,i)=>i)).filter((t=>void 0!==t));for(let i=0;i<t.i.F.length;i++)if((t.i.F[i]&at)==at){let n=t.i.Lt[i];null===n.Ot&&0===n.Jt.length&&(n.Ot=a(h))}}(this),function(t,i){for(let i=0;i<t.i.F.length;i++)2064==(2064&t.i.F[i])&&f(t,i)}(this),function(t,i){for(let i=0;i<t.i.F.length;i++)(t.i.F[i]&$t)==$t&&J(t,i)}(this),function(t,i){for(let h=0;h<t.i.F.length;h++)3200==(3200&t.i.F[h])&&P(t,h,i)}(this,i),function(t,i){for(let h=0;h<t.i.F.length;h++)512==(512&t.i.F[h])&&D(t,h,i)}(this,i),function(t,i){for(let i=0;i<t.i.F.length;i++)33792==(33792&t.i.F[i])&&I(t,i)}(this),function(t,i){for(let h=0;h<t.i.F.length;h++)(t.i.F[h]&bt)==bt&&U(t,h,i)}(this,i),function(t,i){for(let h=0;h<t.i.F.length;h++)(t.i.F[h]&_t)==_t&&N(t,h,i)}(this,i),j(this),function(t,i){let h=t.Mi[0];if(void 0===h)return;let n=t.i.Ft[h],e=t.yi;e.resetTransform(),e.fillStyle=t.Ti,e.fillRect(0,0,t.$t,t.At),e.transform(n.dt[0]/2*t.$t,-n.dt[1]/2*t.$t,-n.dt[2]/2*t.At,n.dt[3]/2*t.At,(n.dt[4]+1)/2*t.$t,(n.dt[5]+1)/2*t.At);for(let i=0;i<t.i.F.length;i++)if(65792==(65792&t.i.F[i])){let h=t.i.nt[i];e.save(),e.transform(h.i[0],-h.i[1],-h.i[2],h.i[3],h.i[4],-h.i[5]);let n=t.i.ti[i];switch(n.L){case 1:e.fillStyle=n.j,e.fillRect(-n.vt/2,-n.Mt/2,n.vt,n.Mt);break;case 2:e.fillStyle=n.j,e.beginPath(),e.arc(0,0,n.Dt,n.zi,n.Fi),e.fill()}e.restore()}}(this),function(t,i){for(let h=0;h<t.i.F.length;h++)8193==(8193&t.i.F[h])&&W(t,h,i)}(this,i),function(t,i){for(let i=0;i<t.i.F.length;i++){let h=73728&t.i.F[i],n=i*ut+7;t.I[n]!==h&&(t.I[n]=h)}for(let i of t.Mi){let h=t.i.Ft[i];t.ut.bindFramebuffer(36160,null),t.ut.viewport(0,0,t.$t,t.At),t.ut.clear(16640),V(t,h);break}}(this),q(this)}};!function(i){i.i=new ct(65536),i.ri=!0,t(i,[...tt(i),b(i.i.vt/2-.5,i.i.Mt/2-.5)]),t(i,[T(),(t,i)=>{t.i.F[i]|=32,t.i.Zt[i]={}},z("060.png"),F(1),b(i.i.vt/2,i.i.Mt/2)]),Q(i,At[0],.1),Q(i,At[1],.6),Q(i,At[2],.7);let h=At[3];for(let t=0;t<h.data.length;t++){if(0==h.data[t])continue;i.i.Gt.Bt[t]=[(e=t)%(n=i.i).vt,n.Mt-Math.floor(e/n.vt)-1],i.i.Gt.qt[t]=[];let o=i.i.Gt.qt[t];t>0&&h.data[t-1]>0&&o.push([t-1,1]),t<h.data.length-1&&h.data[t+1]>0&&o.push([t+1,1]),t>h.width&&h.data[t-h.width]>0&&o.push([t-h.width,1]),t<h.data.length-h.width&&h.data[t+h.width]>0&&o.push([t+h.width,1])}var n,e;let o=i.i.Gt.qt.map(((t,i)=>i)).filter((t=>void 0!==t));for(let h=0;h<100;h++)t(i,it(i,a(o)))}(Ct),Ct.ci(),window.$=function(t,i,h){}.bind(null,Ct),window.game=Ct})();
